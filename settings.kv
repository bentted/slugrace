#: import settings settings
# File name: settings.kv

### LABELS ###
<RegularLabel@Label>:
    color: .2, .1, 0, 1
    text_size: self.size
    halign: 'left'
    valign: 'center'

<TitleLabel@RegularLabel>:
    font_size: 20
    size_hint: (1, None)
    height: 30

<Regular80x30Label@RegularLabel>:
    size_hint: None, None
    size: 80, 30

<DollarLabel@RegularLabel>:
    text: "$"
    size_hint: None, None
    size: 20, 30
### TEXT INPUTS ###
<NameInput@TextInput>:
    multiline: False
    size_hint: None, None
    size: 400, 30
<NumInput@TextInput>:
    multiline: False
    size_hint: None, None
    size: 250, 30

### CHECK BOXES ###
# PlayerRadioButton inherits from CheckBox.
<PlayerRadioButton@CheckBox>:
    canvas.before:
        Color:
            rgba:0,0,0,1
        Ellipse:
            pos:self.center_x-10, self.center_y-10
            size:[20,20]
    group: 'players'
    size_hint: (.5, 1)

# ConditionRadioButton inherits from CheckBox.
<ConditionRadioButton@CheckBox>:
    canvas.before:
        Color:
            rgba:0,0,0,1
        Ellipse:
            pos:self.center_x-10, self.center_y-10
            size:[20,20]
    group: 'conditions'
    size_hint_x: .05
<RedButton@Button>:
    background_color: .8, 0, 0, 1
    color:1, .8, .1, 1
    bold:True
    font_size: 18
    size_hint:(None,None)
    size:200, 40
    pos_hint:{'center_x': 0.3}
<PlayerCount>:
    PlayerRadioButton:
    RegularLabel:
        text: root.count_text
<PlayerSettings>:
    Regular80x30Label:
        text: root.label_text
    NumInput:
    BoxLayout:
        RegularLabel:
            text: ''
            size_hint_x: None
            width: 280
        DollarLabel:
        NumInput:
<SlugsStats>:
    spacing: 10
    RegularLabel:
        text: root.name
    RegularLabel:
        text:(str(root.wins)+('win' if root.wins == 1 else 'wins'))
    RegularLabel:
        text:str(root.win_percebt) + '%'
<PlayerStats>:
    RegularLabel:
        text: root.name
    RegularLabel:
        text: 'has $' + str(root.money)
<SlugInfo>:
    orientation: 'vertical'
    size_hint: (None,None)
    size:100, 50
    pos_hint: {'x':.004, 'center_y': root.y_position}
    WhiteNameLabel:
        text: root.name
    WhiteWinsLabel:
        text: str(root.wins) + ('win' if root.wins == 1 else 'wins')
<SettingsScreen>:
    canvas:
        Color:
            rgba: 1, 1, .8, 1
        Rectangle:
            pos:self.pos
            size:self.size
    BoxLayout:
        orientation: 'vertical'
        padding: 10
        spacing: 10
        ### SETTINGS LABEL ###
        TitleLabel:
            text: 'Settings'
            font_size: 28

        ### THE PLAYERS ###
        BoxLayout:
            canvas:
                Color:
                    rgba: 1, 1, 1, .4
                Rectangle:
                    pos:self.pos
                    size:self.size
                    source: 'assets/all slugs.png'
                Color:
                    rgba:.2, .1, 0, 1
                Line:
                    rounded_rectangle: self.x, self.y, self.width, self.height, 10
                    width: 2

            orientation: 'vertical'
            padding: 10
            spacing: 10
            # Title
            TitleLabel:
                text: 'The Players'

            # Radio Buttons
            BoxLayout:
                size_hint: (.4, None)
                height: 50
                # 1 player
                BoxLayout:
                    PlayerCount:
                        count_text: '1 Player'
                # 2 players
                BoxLayout:
                    PlayerCount:
                        count_text: '2 Player'

                # 3 players
                BoxLayout:
                    PlayerCount:
                        count_text: '3 Player'

                # 4 players
                BoxLayout:
                    PlayerCount:
                        count_text: '4 Player'
            # Player Name and Initial Money Setup
            BoxLayout:
                orientation: 'vertical'

                # the headers row
                BoxLayout:
                    RegularLabel:
                        text: ""
                        size_hint_x: None
                        width: 80

                    # name header
                    RegularLabel:
                        text: "Name"
                        size_hint_x: None
                        width: 700

                    # money header
                    RegularLabel:
                        text: "Initial Money"

                # the players rows
                # player 1
                PlayerSettings:
                    label_text: 'Player 1'
                # player 2
                PlayerSettings:
                    label_text: 'Player 2'

                # player 3
                PlayerSettings:
                    label_text: 'Player 3'

                # player 4
                PlayerSettings:
                    label_text: 'Player 4'

        ### ENDING CONDITIONS ### padding: 10
        BoxLayout:
            canvas:
                Color:
                    rgba: .2, .1, 0,1
                Line:
                    rounded_rectangle: self.x, self.y, self.width, self.height, 10
                    width: 2

            orientation: 'vertical'
            size_hint: (1, .4)
            padding: 10
            spacing: 10

            # title label
            TitleLabel:
                text: "Ending Conditions"

            # radio buttons
            GridLayout:
                rows: 3
                spacing: 10

                # option 1: money
                ConditionRadioButton:
                RegularLabel:
                    text: "The game is over when there is only one player with any money left."

                # option 2: races
                ConditionRadioButton:
                BoxLayout:
                    RegularLabel:
                        text: "The game is over not later than after a given number of races."

                    NumInput:

                # option 3: time
                ConditionRadioButton:
                BoxLayout:
                    RegularLabel:
                        text: "The game is over not later than the total racing time has elapsed."

                    NumInput:

        ### READY BUTTON ###
        RedButton:
            text: 'Ready'
            on_press: root.manager.current= 'racescreen'
